import{o as u,c as f,a as e,b as A,d as P,h as D,u as K,e as O,r as i,j as U,k as I,l as C,p as l,t as h,V as z,W as $,m as q,O as j,n as S,X as G,Y as R}from"./index-cPQIZp5h.js";import{_ as w}from"./_plugin-vue_export-helper-x3n3nnut.js";const T={},W={class:"main-icons"},X=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[e("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5s-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3s3-1.34 3-3s-1.34-3-3-3z",fill:"currentColor"})],-1),Y=[X];function F(c,s){return u(),f("div",W,Y)}const H=w(T,[["render",F]]),J={},Q={class:"main-icons"},Z=A('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"><path d="M63.998 86.004l21.998-21.998L448 426.01l-21.998 21.998z" fill="currentColor"></path><path d="M259.34 192.09l60.57 60.57a64.07 64.07 0 0 0-60.57-60.57z" fill="currentColor"></path><path d="M252.66 319.91l-60.57-60.57a64.07 64.07 0 0 0 60.57 60.57z" fill="currentColor"></path><path d="M256 352a96 96 0 0 1-92.6-121.34l-69.07-69.08C66.12 187.42 39.24 221.14 16 256c26.42 44 62.56 89.24 100.2 115.18C159.38 400.92 206.33 416 255.76 416A233.47 233.47 0 0 0 335 402.2l-53.61-53.6A95.84 95.84 0 0 1 256 352z" fill="currentColor"></path><path d="M256 160a96 96 0 0 1 92.6 121.34L419.26 352c29.15-26.25 56.07-61.56 76.74-96c-26.38-43.43-62.9-88.56-101.18-114.82C351.1 111.2 304.31 96 255.76 96a222.92 222.92 0 0 0-78.21 14.29l53.11 53.11A95.84 95.84 0 0 1 256 160z" fill="currentColor"></path></svg>',1),ee=[Z];function te(c,s){return u(),f("div",Q,ee)}const oe=w(J,[["render",te]]),d=c=>(G("data-v-61aaed87"),c=c(),R(),c),ne={class:"form_body"},se={class:"lang-top"},le={class:"contact-wrapper"},ae={class:"login-cta"},re={class:"form-row"},ce=["placeholder"],ie={class:"form-row"},ue={class:"input-icon"},de=d(()=>e("div",{class:"form-row"},null,-1)),pe={class:"form-row"},_e=d(()=>e("div",{class:"circle one"},null,-1)),he=d(()=>e("div",{class:"circle two"},null,-1)),ve=d(()=>e("div",{class:"circle three"},null,-1)),fe=d(()=>e("div",{class:"circle four"},null,-1)),we={__name:"Index",setup(c){const{t:s,locale:g}=P(),a=D(),M=K(),b=O(),p=i(null),m=i(!1),n=i({phone:"+998907788769",password:"987654321!s"}),L=i(0),B=i(null),v=o=>{M.warning({title:s("warning"),content:o,duration:2e3})},x=async()=>{let o=n.value.phone.replace(/[^\d]/g,"");if(o.length<12&&n.value.password.length<3)v(s("rule_full"));else if(n.value.password.length<3)v(s("rule_pass"));else if(o.length<12)v(s("rule_num"));else if(o.length>=12&&n.value.password.length>=4)try{n.value.phone=n.value.phone.replace(/[^\d]/g,""),j.post("users/login",n.value).then(t=>{localStorage.setItem("token",t.token),localStorage.setItem("role",t.role),a.currentData=t,a.currentLang=t.lang||"uz";let _="/home";t.role=="Inspector"&&(_="/sklad-table"),b.push({path:_})}).catch(t=>{L.value=0})}catch{}},N=o=>{o.key=="Enter"&&x()},V=o=>{let t=n.value.phone.replace(/[^\d]/g,"");o.key=="Enter"&&t.length>=12&&p.value.focus()},y=o=>{m.value=o,o?p.value.type="text":p.value.type="password"},k=o=>{localStorage.setItem("lang",o),g.value=o,a.currentLang=o};return U(()=>{k(a.currentLang)}),(o,t)=>{const _=I("n-select"),E=I("n-icon");return u(),f("div",ne,[e("div",se,[C(_,{style:{width:"150px"},value:l(a).currentLang,"onUpdate:value":[t[0]||(t[0]=r=>l(a).currentLang=r),k],options:l(a).langOption},null,8,["value","options"])]),e("div",le,[e("header",ae,[e("h2",null,h(l(s)("login")),1)]),e("form",null,[e("div",re,[z(e("input",{onKeydown:V,"onUpdate:modelValue":t[1]||(t[1]=r=>n.value.phone=r),type:"text",required:"",maxlength:"19",ref_key:"phoneInput",ref:B,placeholder:l(g)=="uz"?"+998":"+82"},null,40,ce),[[$,n.value.phone]]),e("span",null,h(l(s)("phone")),1)]),e("div",ie,[z(e("input",{ref_key:"passwordInput",ref:p,"onUpdate:modelValue":t[2]||(t[2]=r=>n.value.password=r),onKeydown:N,type:"password",required:""},null,544),[[$,n.value.password]]),e("span",null,h(l(s)("password")),1),e("div",ue,[C(E,{size:"22"},{default:q(()=>[m.value?(u(),S(l(oe),{key:1,onClick:t[4]||(t[4]=r=>y(!1))})):(u(),S(l(H),{key:0,onClick:t[3]||(t[3]=r=>y(!0))}))]),_:1})])]),de,e("div",pe,[e("button",{type:"button",onClick:x},h(l(s)("enter")),1)])])]),_e,he,ve,fe])}}},xe=w(we,[["__scopeId","data-v-61aaed87"]]);export{xe as default};
