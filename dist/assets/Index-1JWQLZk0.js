import{o as r,c as v,a as e,b as oe,u as ae,d as se,e as le,f as ce,g as re,r as g,h as A,i as ie,w as de,j as i,k as s,l as d,m as B,n as c,p as L,N as I,q as ue,t as he,s as ve,v as D}from"./index-T3OpxodD.js";import{M as N}from"./users.service-kY47sKb4.js";import{C as U,A as _e}from"./client-5tMaeZ4l.js";import{_ as p}from"./_plugin-vue_export-helper-x3n3nnut.js";const me="/assets/logo-cKKgqIdP.png",pe={},we={class:"main-icons"},fe=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{d:"M10.968 2.325a1.75 1.75 0 0 1 2.064 0l7.421 5.416c.977.712.474 2.257-.734 2.26H4.28c-1.208-.003-1.71-1.548-.734-2.26l7.421-5.416zM13 6.25a1 1 0 1 0-2 0a1 1 0 0 0 2 0zM11.25 16h-2v-5h2v5zm3.5 0h-2v-5h2v5zm3.75 0h-2.25v-5h2.25v5zm.25 1H5.25A2.25 2.25 0 0 0 3 19.25v.5c0 .415.336.75.75.75h16.5a.75.75 0 0 0 .75-.75v-.5A2.25 2.25 0 0 0 18.75 17zm-11-1H5.5v-5h2.25v5z",fill:"currentColor"})])],-1),ge=[fe];function xe(_,u){return r(),v("div",we,ge)}const ke=p(pe,[["render",xe]]),$e={},ze={class:"main-icons"},ye=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{d:"M10.55 2.532a2.25 2.25 0 0 1 2.9 0l6.75 5.692c.507.428.8 1.057.8 1.72v2.106a3.499 3.499 0 0 0-1.5-.905v-1.2a.75.75 0 0 0-.267-.574l-6.75-5.692a.75.75 0 0 0-.966 0L4.767 9.37a.75.75 0 0 0-.267.573v9.803c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-5.5c0-.966.784-1.75 1.75-1.75h3.5l.102.003h1.775a3.482 3.482 0 0 0-.592 1.5H13v-.003h-2.75a.25.25 0 0 0-.25.25v5.5a1.75 1.75 0 0 1-1.75 1.75h-3.5A1.75 1.75 0 0 1 3 19.747V9.944c0-.663.293-1.292.8-1.72l6.75-5.692zM21 14.5a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0zm2 5.375C23 21.431 21.714 23 18.5 23S14 21.437 14 19.875v-.103c0-.98.794-1.772 1.773-1.772h5.454c.98 0 1.773.793 1.773 1.772v.103z",fill:"currentColor"})])],-1),Me=[ye];function be(_,u){return r(),v("div",ze,Me)}const Ie=p($e,[["render",be]]),Ve={},Ce={class:"main-icons"},Se=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},[e("g",{fill:"none"},[e("path",{d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75zm0 5A.75.75 0 0 1 2.75 9h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.75zM2.75 14a.75.75 0 0 0 0 1.5h14.5a.75.75 0 0 0 0-1.5H2.75z",fill:"currentColor"})])],-1),He=[Se];function Ae(_,u){return r(),v("div",Ce,He)}const Be=p(Ve,[["render",Ae]]),Le={},De={class:"main-icons"},Ne=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},[e("path",{d:"M27 22.141V18a2 2 0 0 0-2-2h-8v-4h2a2.002 2.002 0 0 0 2-2V4a2.002 2.002 0 0 0-2-2h-6a2.002 2.002 0 0 0-2 2v6a2.002 2.002 0 0 0 2 2h2v4H7a2 2 0 0 0-2 2v4.142a4 4 0 1 0 2 0V18h8v4.142a4 4 0 1 0 2 0V18h8v4.141a4 4 0 1 0 2 0zM13 4h6l.001 6H13zM8 26a2 2 0 1 1-2-2a2.002 2.002 0 0 1 2 2zm10 0a2 2 0 1 1-2-2a2.003 2.003 0 0 1 2 2zm8 2a2 2 0 1 1 2-2a2.002 2.002 0 0 1-2 2z",fill:"currentColor"})],-1),Ue=[Ne];function Re(_,u){return r(),v("div",De,Ue)}const Ee=p(Le,[["render",Re]]),Oe={},je={class:"main-icons"},qe=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},[e("g",{fill:"none"},[e("path",{d:"M4 9V8h1v1H4zM1 4a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v6.5a.5.5 0 0 0 1 0V4a2 2 0 0 1 2 2v4.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 10.5V4zm2.5 1a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1h-6zm0 2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2zm4 0a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 2a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z",fill:"currentColor"})])],-1),Fe=[qe];function Je(_,u){return r(),v("div",je,Fe)}const Ke=p(Oe,[["render",Je]]),We={},Pe={class:"main-icons"},Qe=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[e("path",{d:"M22 6h-3v9H6v3h12l4 4V6zm-5 7V2H2v15l4-4h11z",fill:"currentColor"})],-1),Te=[Qe];function Ge(_,u){return r(),v("div",Pe,Te)}const Xe=p(We,[["render",Ge]]),Ye={},Ze={class:"main-icons"},et=oe('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 12V6a2 2 0 0 1 4 0v6m0-2a2 2 0 1 1 2 2h-6"></path><path d="M12 12h6a2 2 0 0 1 0 4h-6m2 0a2 2 0 1 1-2 2v-6"></path><path d="M12 12v6a2 2 0 0 1-4 0v-6m0 2a2 2 0 1 1-2-2h6"></path><path d="M12 12H6a2 2 0 0 1 0-4h6m-2 0a2 2 0 1 1 2-2v6"></path></g></svg>',1),tt=[et];function nt(_,u){return r(),v("div",Ze,tt)}const ot=p(Ye,[["render",nt]]),at={},st={class:"main-icons"},lt=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},[e("g",{fill:"none"},[e("path",{d:"M5 6.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM10.5 9a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm-.5 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zM5.5 9a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm.5 3v-2h2v2H6zM2 5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1a2 2 0 0 1 2 2v5.5a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 2 13.5V5zm13 0a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8.5A1.5 1.5 0 0 0 4.5 15h11a1.5 1.5 0 0 0 1.5-1.5V8a1 1 0 0 0-1-1v6.5a.5.5 0 0 1-1 0V5z",fill:"currentColor"})])],-1),ct=[lt];function rt(_,u){return r(),v("div",st,ct)}const it=p(at,[["render",rt]]),dt={class:"flex h-screen"},ut={class:"logo flex items-center justify-center py-2"},ht=["src"],vt={class:"flex justify-between items-center px-4 py-3 bg-white shadow-sm"},_t={class:"flex items-center gap-4"},mt={class:"flex items-center gap-2 cursor-pointer"},pt={class:"text-sm font-medium text-gray-800"},wt={class:"p-4"},$t={__name:"Index",emits:["updatelang"],setup(_,{emit:u}){const R=u,{t:l,locale:x,fallbackLocale:E}=ae(),O=ve("fileUrl"),$=se(),j=le(),q=ce(),a=re(),m=g(!1),w=g(null),k=g([]),f=g(!1),z=g(window.innerWidth),F=t=>{t==="logout"&&q.info({title:l("info"),content:l("logout"),positiveText:l("yes"),negativeText:l("no"),onPositiveClick:()=>{localStorage.clear(),$.push({name:"Login"}),Object.keys(a.allowRole).forEach(o=>{a.allowRole[o]=!0})}})},J=A(()=>[{label:l("exit"),key:"logout"}]),K=t=>{localStorage.setItem("lang",t),a.currentData.lang=t,a.currentLang=t,x.value=t,R("updatelang",t),N.update(a.currentData.id,a.currentData)};function h(t){return()=>D(I,null,{default:()=>D(t)})}const V=A(()=>[{label:l("home"),key:"home",icon:h(Ie)},{label:l("information"),key:"information",icon:h(ke),children:[{label:l("admin"),key:"admin",icon:h(_e)},{label:l("client"),key:"client",icon:h(U)},{label:l("category"),key:"category",icon:h(Ee)},{label:l("brand"),key:"brand",icon:h(ot)},{label:l("offers"),key:"offers",icon:h(Ke)},{label:l("news"),key:"news",icon:h(it)},{label:"F.A.Q",key:"F.A.Q",icon:h(Xe)}]}]),W=()=>{N.getCurrentUser().then(t=>{a.currentData=t})},y=g(!0),M=()=>{z.value=window.innerWidth,z.value<768?y.value=!1:y.value=!0};ie(()=>{window.addEventListener("resize",M()),a.currentLang=localStorage.getItem("lang")||"uz",x.value=a.currentLang,E.value=a.currentLang;const t=localStorage.getItem("accordion");if(t)try{k.value=JSON.parse(t)}catch{k.value=[t]}const o=localStorage.getItem("collopsed");o&&(m.value=JSON.parse(o.toLowerCase())),w.value=j.name,W()}),de(m,t=>{localStorage.setItem("collopsed",t)}),window.addEventListener("resize",M);const P=()=>{M(),z.value>768&&(m.value=!m.value),f.value=!f.value},Q=t=>{k.value=t,localStorage.removeItem("accordion"),localStorage.setItem("accordion",JSON.stringify(t))};return(t,o)=>{const b=i("n-menu"),T=i("n-layout-sider"),G=i("n-button"),X=i("n-select"),Y=i("n-avatar"),Z=i("n-dropdown"),ee=i("RouterView"),C=i("n-layout"),te=i("n-drawer-content"),ne=i("n-drawer");return r(),v("div",dt,[s(C,{"has-sider":""},{default:d(()=>[y.value?(r(),B(T,{key:0,"collapse-mode":"width","collapsed-width":70,width:280,bordered:"",collapsed:m.value,onCollapse:o[1]||(o[1]=n=>m.value=!0),onExpand:o[2]||(o[2]=n=>m.value=!1),"show-trigger":"bar",style:{height:"100vh",background:"#115D33",color:"#fff"}},{default:d(()=>[e("div",ut,[e("img",{style:{width:"200px",height:"100px","border-radius":"10px"},src:c(me),alt:""},null,8,ht)]),s(b,{accordion:"",collapsed:m.value,value:w.value,"onUpdate:value":o[0]||(o[0]=n=>w.value=n),options:V.value,"on-update:value":n=>{w.value=n,f.value=!1,c($).push({name:n})},"onUpdate:expandedKeys":Q,"default-expanded-keys":k.value},null,8,["collapsed","value","options","on-update:value","default-expanded-keys"])]),_:1},8,["collapsed"])):L("",!0),s(C,{class:"flex-1 bg-gray-100"},{default:d(()=>[e("div",vt,[s(G,{onClick:P},{default:d(()=>[s(c(I),{size:"24"},{default:d(()=>[s(c(Be))]),_:1})]),_:1}),e("div",_t,[s(X,{class:"w-[150px]",value:c(x),"onUpdate:value":[o[3]||(o[3]=n=>ue(x)?x.value=n:null),K],options:c(a).langOption},null,8,["value","options"]),s(Z,{onSelect:F,options:J.value},{default:d(()=>{var n,S;return[e("div",mt,[e("h3",pt,he((n=c(a).currentData)==null?void 0:n.fullname),1),s(Y,{size:"small",round:"",src:c(O)+((S=c(a).currentData)==null?void 0:S.image)||""},{default:d(()=>{var H;return[(H=c(a).currentData)!=null&&H.image?L("",!0):(r(),B(c(I),{key:0,size:"24"},{default:d(()=>[s(c(U))]),_:1}))]}),_:1},8,["src"])])]}),_:1},8,["options"])])]),e("div",wt,[s(ee)])]),_:1})]),_:1}),s(ne,{show:f.value,"onUpdate:show":o[5]||(o[5]=n=>f.value=n),style:{height:"100vh",width:"80vw",background:"#115D33"},placement:"left"},{default:d(()=>[s(te,{title:"Menu",closable:""},{default:d(()=>[s(b,{value:w.value,"onUpdate:value":o[4]||(o[4]=n=>w.value=n),options:V.value,"on-update:value":n=>{w.value=n,f.value=!1,c($).push({name:n})}},null,8,["value","options","on-update:value"])]),_:1})]),_:1},8,["show"])])}}};export{$t as default};
