import{o as u,c as p,a as e,u as oe,b as ae,d as se,e as le,f as ce,r as w,g as H,h as re,w as ie,i as r,j as s,k as i,l as L,m as l,n as B,N as I,p as ue,t as de,q as ve,s as D}from"./index-hhVleVlL.js";import{M as U}from"./users.service-orHs7wxb.js";import{C as N,A as _e}from"./client-4oQm_npo.js";import{_ as f}from"./_plugin-vue_export-helper-x3n3nnut.js";const he="/assets/logo-cKKgqIdP.png",pe={},me={class:"main-icons"},we=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{d:"M10.968 2.325a1.75 1.75 0 0 1 2.064 0l7.421 5.416c.977.712.474 2.257-.734 2.26H4.28c-1.208-.003-1.71-1.548-.734-2.26l7.421-5.416zM13 6.25a1 1 0 1 0-2 0a1 1 0 0 0 2 0zM11.25 16h-2v-5h2v5zm3.5 0h-2v-5h2v5zm3.75 0h-2.25v-5h2.25v5zm.25 1H5.25A2.25 2.25 0 0 0 3 19.25v.5c0 .415.336.75.75.75h16.5a.75.75 0 0 0 .75-.75v-.5A2.25 2.25 0 0 0 18.75 17zm-11-1H5.5v-5h2.25v5z",fill:"currentColor"})])],-1),fe=[we];function ge(m,v){return u(),p("div",me,fe)}const xe=f(pe,[["render",ge]]),ke={},ye={class:"main-icons"},ze=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{d:"M10.55 2.532a2.25 2.25 0 0 1 2.9 0l6.75 5.692c.507.428.8 1.057.8 1.72v2.106a3.499 3.499 0 0 0-1.5-.905v-1.2a.75.75 0 0 0-.267-.574l-6.75-5.692a.75.75 0 0 0-.966 0L4.767 9.37a.75.75 0 0 0-.267.573v9.803c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-5.5c0-.966.784-1.75 1.75-1.75h3.5l.102.003h1.775a3.482 3.482 0 0 0-.592 1.5H13v-.003h-2.75a.25.25 0 0 0-.25.25v5.5a1.75 1.75 0 0 1-1.75 1.75h-3.5A1.75 1.75 0 0 1 3 19.747V9.944c0-.663.293-1.292.8-1.72l6.75-5.692zM21 14.5a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0zm2 5.375C23 21.431 21.714 23 18.5 23S14 21.437 14 19.875v-.103c0-.98.794-1.772 1.773-1.772h5.454c.98 0 1.773.793 1.773 1.772v.103z",fill:"currentColor"})])],-1),$e=[ze];function be(m,v){return u(),p("div",ye,$e)}const Me=f(ke,[["render",be]]),Ie={},Ce={class:"main-icons"},Se=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},[e("g",{fill:"none"},[e("path",{d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75zm0 5A.75.75 0 0 1 2.75 9h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.75zM2.75 14a.75.75 0 0 0 0 1.5h14.5a.75.75 0 0 0 0-1.5H2.75z",fill:"currentColor"})])],-1),Ve=[Se];function Ae(m,v){return u(),p("div",Ce,Ve)}const He=f(Ie,[["render",Ae]]),Le={},Be={class:"main-icons"},De=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},[e("path",{d:"M27 22.141V18a2 2 0 0 0-2-2h-8v-4h2a2.002 2.002 0 0 0 2-2V4a2.002 2.002 0 0 0-2-2h-6a2.002 2.002 0 0 0-2 2v6a2.002 2.002 0 0 0 2 2h2v4H7a2 2 0 0 0-2 2v4.142a4 4 0 1 0 2 0V18h8v4.142a4 4 0 1 0 2 0V18h8v4.141a4 4 0 1 0 2 0zM13 4h6l.001 6H13zM8 26a2 2 0 1 1-2-2a2.002 2.002 0 0 1 2 2zm10 0a2 2 0 1 1-2-2a2.003 2.003 0 0 1 2 2zm8 2a2 2 0 1 1 2-2a2.002 2.002 0 0 1-2 2z",fill:"currentColor"})],-1),Ue=[De];function Ne(m,v){return u(),p("div",Be,Ue)}const Re=f(Le,[["render",Ne]]),Oe={},Ee={class:"main-icons"},je=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[e("path",{d:"M22 6h-3v9H6v3h12l4 4V6zm-5 7V2H2v15l4-4h11z",fill:"currentColor"})],-1),qe=[je];function Fe(m,v){return u(),p("div",Ee,qe)}const Je=f(Oe,[["render",Fe]]),Ke={},We={class:"main-icons"},Pe=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},[e("g",{fill:"none"},[e("path",{d:"M5 6.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM10.5 9a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm-.5 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zM5.5 9a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm.5 3v-2h2v2H6zM2 5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1a2 2 0 0 1 2 2v5.5a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 2 13.5V5zm13 0a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8.5A1.5 1.5 0 0 0 4.5 15h11a1.5 1.5 0 0 0 1.5-1.5V8a1 1 0 0 0-1-1v6.5a.5.5 0 0 1-1 0V5z",fill:"currentColor"})])],-1),Qe=[Pe];function Te(m,v){return u(),p("div",We,Qe)}const Ge=f(Ke,[["render",Te]]),Xe={class:"flex h-screen"},Ye={class:"logo flex items-center justify-center py-2"},Ze=["src"],et={class:"flex justify-between items-center px-4 py-3 bg-white shadow-sm"},tt={class:"flex items-center gap-4"},nt={class:"flex items-center gap-2 cursor-pointer"},ot={class:"text-sm font-medium text-gray-800"},at={class:"p-4"},it={__name:"Index",emits:["updatelang"],setup(m,{emit:v}){const R=v,{t:c,locale:g,fallbackLocale:O}=oe(),E=ve("fileUrl"),y=ae(),j=se(),q=le(),a=ce(),d=w(!1),_=w(null),x=w([]),k=w(!1),z=w(window.innerWidth),F=t=>{t==="logout"&&q.info({title:c("info"),content:c("logout"),positiveText:c("yes"),negativeText:c("no"),onPositiveClick:()=>{localStorage.clear(),y.push({name:"Login"}),Object.keys(a.allowRole).forEach(o=>{a.allowRole[o]=!0})}})},J=H(()=>[{label:c("exit"),key:"logout"}]),K=t=>{localStorage.setItem("lang",t),a.currentData.lang=t,a.currentLang=t,g.value=t,R("updatelang",t),U.update(a.currentData.id,a.currentData)};function h(t){return()=>D(I,null,{default:()=>D(t)})}const C=H(()=>[{label:c("home"),key:"home",icon:h(Me)},{label:c("information"),key:"information",icon:h(xe),children:[{label:c("admin"),key:"admin",icon:h(_e)},{label:c("client"),key:"client",icon:h(N)},{label:c("category"),key:"category",icon:h(Re)},{label:c("news"),key:"news",icon:h(Ge)},{label:"F.A.Q",key:"F.A.Q",icon:h(Je)}]}]),W=()=>{U.getCurrentUser().then(t=>{a.currentData=t})},$=w(!0),b=()=>{z.value=window.innerWidth,z.value<768?$.value=!1:$.value=!0};re(()=>{window.addEventListener("resize",b),a.currentLang=localStorage.getItem("lang")||"uz",g.value=a.currentLang,O.value=a.currentLang;const t=localStorage.getItem("accordion");if(t)try{x.value=JSON.parse(t)}catch{x.value=[t]}const o=localStorage.getItem("collopsed");o&&(d.value=JSON.parse(o.toLowerCase())),_.value=j.name,W()}),ie(d,t=>{localStorage.setItem("collopsed",t)}),window.addEventListener("resize",b);const P=()=>{b(),z.value>768&&(d.value=!d.value)},Q=t=>{x.value=t,localStorage.removeItem("accordion"),localStorage.setItem("accordion",JSON.stringify(t))};return(t,o)=>{const M=r("n-menu"),T=r("n-layout-sider"),G=r("n-button"),X=r("n-select"),Y=r("n-avatar"),Z=r("n-dropdown"),ee=r("RouterView"),S=r("n-layout"),te=r("n-drawer-content"),ne=r("n-drawer");return u(),p("div",Xe,[s(S,{"has-sider":""},{default:i(()=>[$.value?(u(),L(T,{key:0,"collapse-mode":"width","collapsed-width":70,width:280,bordered:"",collapsed:d.value,onCollapse:o[1]||(o[1]=n=>d.value=!0),onExpand:o[2]||(o[2]=n=>d.value=!1),"show-trigger":"bar",style:{height:"100vh",background:"#115D33",color:"#fff"}},{default:i(()=>[e("div",Ye,[e("img",{style:{width:"200px",height:"100px","border-radius":"10px"},src:l(he),alt:""},null,8,Ze)]),s(M,{accordion:"",collapsed:d.value,value:_.value,"onUpdate:value":o[0]||(o[0]=n=>_.value=n),options:C.value,"on-update:value":n=>{_.value=n,k.value=!1,l(y).push({name:n})},"onUpdate:expandedKeys":Q,"default-expanded-keys":x.value},null,8,["collapsed","value","options","on-update:value","default-expanded-keys"])]),_:1},8,["collapsed"])):B("",!0),s(S,{class:"flex-1 bg-gray-100"},{default:i(()=>[e("div",et,[s(G,{onClick:P},{default:i(()=>[s(l(I),{size:"24"},{default:i(()=>[s(l(He))]),_:1})]),_:1}),e("div",tt,[s(X,{class:"w-[150px]",value:l(g),"onUpdate:value":[o[3]||(o[3]=n=>ue(g)?g.value=n:null),K],options:l(a).langOption},null,8,["value","options"]),s(Z,{onSelect:F,options:J.value},{default:i(()=>{var n,V;return[e("div",nt,[e("h3",ot,de((n=l(a).currentData)==null?void 0:n.fullname),1),s(Y,{size:"small",round:"",src:l(E)+((V=l(a).currentData)==null?void 0:V.image)||""},{default:i(()=>{var A;return[(A=l(a).currentData)!=null&&A.image?B("",!0):(u(),L(l(I),{key:0,size:"24"},{default:i(()=>[s(l(N))]),_:1}))]}),_:1},8,["src"])])]}),_:1},8,["options"])])]),e("div",at,[s(ee)])]),_:1})]),_:1}),s(ne,{show:k.value,"onUpdate:show":o[5]||(o[5]=n=>k.value=n),style:{height:"100vh",width:"80vw",background:"#115D33"},placement:"left"},{default:i(()=>[s(te,{title:"Menu",closable:""},{default:i(()=>[s(M,{value:_.value,"onUpdate:value":o[4]||(o[4]=n=>_.value=n),options:C.value,"on-update:value":n=>{_.value=n,k.value=!1,l(y).push({name:n})}},null,8,["value","options","on-update:value"])]),_:1})]),_:1},8,["show"])])}}};export{it as default};
