import{d as A,e as H,H as P,f as U,r as n,g as Y,n as f,m as u,I as j,J,M as V,w as E,C as G,h as T,c as F,a as d,j as l,x as g,t,k as o,l as h,L as K,p as L,o as q,N as _,G as O}from"./index-CzxFKPxk.js";import{u as Q,S as W}from"./index-BeBqwTHT.js";import{R as X}from"./refresh-BYN1d1Aq.js";import{c as Z}from"./clients.service-BjOOF6IZ.js";import{u as $}from"./NumberFormat-Dorb8or7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ee={class:"p-2 space-y-2"},ae={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},te={class:"text-xl font-bold"},se={class:"flex flex-col sm:flex-row gap-2 sm:items-center"},pe={__name:"Index",setup(le){const{t:s,locale:ne}=A(),{insert:x,shift:v,r:w}=Q(),b=f("dayJS");L(),H(),P(),U();const y=f("fileUrl"),m=n([]),p=n(!1);n(!1);const r=n({text:""}),S=n({create:!1,update:!1,update_id:null}),i=e=>{p.value=!0,Z.all(r.value).then(a=>{m.value=a,p.value=!1})},k=Y(()=>[{title:"â„–",key:"id",align:"center",width:50,render:(e,a)=>a+1},{title:s("fullname"),key:"fullname",render(e){return u("div",{class:"flex items-center"},[e.image?u(j,{src:y+e.image,height:35,width:50,style:{borderRadius:"35px",marginRight:"8px"},lazy:!0,previewDisabled:!0}):u(J,{size:"small",style:{marginRight:"8px"}}),u("span",{class:"font-semibold"},e.fullname)])}},{title:s("phone"),key:"phone",render:e=>$(e.phone_number)},{title:s("login")+" / "+s("datetime"),key:"login",render:e=>b(e.datetime).format("YYYY-MM-DD HH:mm:ss")}]),c=V({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,15,20],onChange:e=>c.page=e,onUpdatePageSize:e=>{c.pageSize=e,c.page=1}}),z=e=>({style:"cursor: pointer;"}),I=e=>e.status?"":"bg-red-50",C=()=>i(),D=()=>{r.value.text="",i()},N=()=>S.value.create=!0;return E(x,e=>e&&N()),G(()=>{v.value&&w.value&&i()}),T(()=>i()),(e,a)=>{const R=h("n-input"),M=h("n-data-table");return q(),F("div",ee,[d("div",ae,[d("h2",te,g(t(s)("client")),1),d("div",se,[l(R,{value:r.value.text,"onUpdate:value":a[0]||(a[0]=B=>r.value.text=B),onInput:C,placeholder:t(s)("search"),clearable:"",class:"w-full sm:w-80"},{prefix:o(()=>[l(t(_),null,{default:o(()=>[l(t(W))]),_:1})]),_:1},8,["value","placeholder"]),l(t(K),{type:"warning",onClick:D},{icon:o(()=>[l(t(_),null,{default:o(()=>[l(t(X))]),_:1})]),default:o(()=>[O(" "+g(t(s)("update"))+" ",1),a[1]||(a[1]=d("span",{class:"ml-1 text-xs"},"Shift+R",-1))]),_:1,__:[1]})])]),l(M,{"row-props":z,pagination:c,loading:p.value,columns:k.value,data:m.value,bordered:!0,"single-line":!1,size:"small","scroll-x":1300,"max-height":"calc(100vh - 315px)","row-class-name":I},null,8,["pagination","loading","columns","data"])])}}};export{pe as default};
