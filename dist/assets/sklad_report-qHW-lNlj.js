import{b as I,r as u,g as S,c as v,a as t,i as n,j as s,k as a,n as T,o as p,v as e,s as o,G as D,p as j,q,R as M,S as $}from"./index-Bw_DMt4G.js";import{E as G}from"./eye-movL7Id4.js";import{E as H}from"./exit-fcB5Trvy.js";import{r as L}from"./report.service-i3WSgFT1.js";import{u as P}from"./NumberFormat-BDrUmd0_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"report"},Y={class:"report-data"},A={class:"report-data-header"},J={class:"report-data-container"},K={class:"sticky-top-first"},O=["onDblclick"],Q={style:{width:"40px","text-align":"center"}},W={class:"text-right"},X={class:"sticky-bottom-second"},Z={colspan:"4",class:"text-center"},tt={class:"text-right"},it={__name:"sklad_report",setup(et){const{t:r}=I(),k=T(),m=new Date,C=new Date(m.getFullYear(),m.getMonth(),1);let h=u(!1),f=u(!0);u({user:[]});const g=u([]),_=u({range:[C.getTime(),m.getTime()],store_id:null,region_id:null});S(()=>{});const E=()=>{h.value=!0,f.value=!0,L.prixodReport(_.value).then(d=>{g.value=d,h.value=!1,d.data.length>0&&(f.value=!1)})},R=d=>{k.push({path:"/sverka-kirim",query:{range:_.value.range,action:!0}})};return(d,l)=>{const y=a("n-icon"),b=a("n-button"),B=a("n-flex"),N=a("n-date-picker"),x=a("n-space"),V=a("n-table"),z=a("n-empty"),F=a("n-spin");return p(),v("div",U,[t("div",Y,[t("div",A,[n(B,{justify:"space-between"},{default:s(()=>[t("h2",null,e(o(r)("prixod report")),1),n(b,{onClick:l[0]||(l[0]=c=>o(k).go(-1))},{icon:s(()=>[n(y,{size:"28",color:"rgb(16, 22, 58)"},{default:s(()=>[n(o(H))]),_:1})]),default:s(()=>[D(" "+e(o(r)("exit")),1)]),_:1})]),_:1}),n(x,null,{default:s(()=>[n(N,{value:_.value.range,"onUpdate:value":l[1]||(l[1]=c=>_.value.range=c),type:"datetimerange",clearable:""},null,8,["value"]),n(b,{type:"success",onClick:E},{icon:s(()=>[n(y,null,{default:s(()=>[n(o(G))]),_:1})]),default:s(()=>[D(" "+e(o(r)("see")),1)]),_:1})]),_:1})]),t("div",J,[n(x,{vertical:""},{default:s(()=>[n(F,{show:o(h)},{default:s(()=>[n(V,{bordered:!0,"single-line":!1,size:"small"},{default:s(()=>{var c;return[t("thead",null,[t("tr",K,[l[2]||(l[2]=t("th",{style:{width:"40px"}},"â„–",-1)),t("th",null,e(o(r)("store")),1),t("th",null,e(o(r)("region")),1),t("th",null,e(o(r)("count")),1)])]),t("tbody",null,[(p(!0),v(M,null,$(g.value.data,(i,w)=>(p(),v("tr",{key:w,class:"report-table-row",onDblclick:ot=>R(i)},[t("td",Q,e(w+1),1),t("td",null,e(i.store)+" || "+e(o(P)(i.store_phone)),1),t("td",null,e(i.region_name),1),t("td",W,e(i.count),1)],40,O))),128)),t("tr",X,[t("th",Z,e(o(r)("total")),1),t("th",tt,e(((c=g.value)==null?void 0:c.total_count)||0),1)])])]}),_:1}),o(f)?(p(),j(z,{key:0,size:"huge",class:"report-data-empty"})):q("",!0)]),_:1},8,["show"])]),_:1})])])])}}};export{it as default};
