import{o as d,c as h,a as e,b as oe,u as ae,d as se,e as le,f as ce,g as re,r as g,h as A,i as ie,w as de,j as r,k as s,l as i,m as B,n as l,p as L,N as I,q as ue,t as ve,s as _e,v as D}from"./index-Smf2fMDT.js";import{M as N}from"./users.service-H65dO_67.js";import{C as U,A as he}from"./client-GsgrKg1q.js";import{_ as w}from"./_plugin-vue_export-helper-x3n3nnut.js";const pe="/assets/logo-cKKgqIdP.png",me={},we={class:"main-icons"},ge=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{d:"M10.968 2.325a1.75 1.75 0 0 1 2.064 0l7.421 5.416c.977.712.474 2.257-.734 2.26H4.28c-1.208-.003-1.71-1.548-.734-2.26l7.421-5.416zM13 6.25a1 1 0 1 0-2 0a1 1 0 0 0 2 0zM11.25 16h-2v-5h2v5zm3.5 0h-2v-5h2v5zm3.75 0h-2.25v-5h2.25v5zm.25 1H5.25A2.25 2.25 0 0 0 3 19.25v.5c0 .415.336.75.75.75h16.5a.75.75 0 0 0 .75-.75v-.5A2.25 2.25 0 0 0 18.75 17zm-11-1H5.5v-5h2.25v5z",fill:"currentColor"})])],-1),fe=[ge];function xe(p,u){return d(),h("div",we,fe)}const ke=w(me,[["render",xe]]),$e={},ye={class:"main-icons"},ze=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[e("g",{fill:"none"},[e("path",{d:"M10.55 2.532a2.25 2.25 0 0 1 2.9 0l6.75 5.692c.507.428.8 1.057.8 1.72v2.106a3.499 3.499 0 0 0-1.5-.905v-1.2a.75.75 0 0 0-.267-.574l-6.75-5.692a.75.75 0 0 0-.966 0L4.767 9.37a.75.75 0 0 0-.267.573v9.803c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-5.5c0-.966.784-1.75 1.75-1.75h3.5l.102.003h1.775a3.482 3.482 0 0 0-.592 1.5H13v-.003h-2.75a.25.25 0 0 0-.25.25v5.5a1.75 1.75 0 0 1-1.75 1.75h-3.5A1.75 1.75 0 0 1 3 19.747V9.944c0-.663.293-1.292.8-1.72l6.75-5.692zM21 14.5a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0zm2 5.375C23 21.431 21.714 23 18.5 23S14 21.437 14 19.875v-.103c0-.98.794-1.772 1.773-1.772h5.454c.98 0 1.773.793 1.773 1.772v.103z",fill:"currentColor"})])],-1),Me=[ze];function be(p,u){return d(),h("div",ye,Me)}const Ie=w($e,[["render",be]]),Ce={},Se={class:"main-icons"},Ve=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},[e("g",{fill:"none"},[e("path",{d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75zm0 5A.75.75 0 0 1 2.75 9h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.75zM2.75 14a.75.75 0 0 0 0 1.5h14.5a.75.75 0 0 0 0-1.5H2.75z",fill:"currentColor"})])],-1),He=[Ve];function Ae(p,u){return d(),h("div",Se,He)}const Be=w(Ce,[["render",Ae]]),Le={},De={class:"main-icons"},Ne=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},[e("path",{d:"M27 22.141V18a2 2 0 0 0-2-2h-8v-4h2a2.002 2.002 0 0 0 2-2V4a2.002 2.002 0 0 0-2-2h-6a2.002 2.002 0 0 0-2 2v6a2.002 2.002 0 0 0 2 2h2v4H7a2 2 0 0 0-2 2v4.142a4 4 0 1 0 2 0V18h8v4.142a4 4 0 1 0 2 0V18h8v4.141a4 4 0 1 0 2 0zM13 4h6l.001 6H13zM8 26a2 2 0 1 1-2-2a2.002 2.002 0 0 1 2 2zm10 0a2 2 0 1 1-2-2a2.003 2.003 0 0 1 2 2zm8 2a2 2 0 1 1 2-2a2.002 2.002 0 0 1-2 2z",fill:"currentColor"})],-1),Ue=[Ne];function Re(p,u){return d(),h("div",De,Ue)}const Oe=w(Le,[["render",Re]]),je={},Ee={class:"main-icons"},qe=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[e("path",{d:"M22 6h-3v9H6v3h12l4 4V6zm-5 7V2H2v15l4-4h11z",fill:"currentColor"})],-1),Fe=[qe];function Je(p,u){return d(),h("div",Ee,Fe)}const Ke=w(je,[["render",Je]]),We={},Pe={class:"main-icons"},Qe=oe('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 12V6a2 2 0 0 1 4 0v6m0-2a2 2 0 1 1 2 2h-6"></path><path d="M12 12h6a2 2 0 0 1 0 4h-6m2 0a2 2 0 1 1-2 2v-6"></path><path d="M12 12v6a2 2 0 0 1-4 0v-6m0 2a2 2 0 1 1-2-2h6"></path><path d="M12 12H6a2 2 0 0 1 0-4h6m-2 0a2 2 0 1 1 2-2v6"></path></g></svg>',1),Te=[Qe];function Ge(p,u){return d(),h("div",Pe,Te)}const Xe=w(We,[["render",Ge]]),Ye={},Ze={class:"main-icons"},et=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},[e("g",{fill:"none"},[e("path",{d:"M5 6.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM10.5 9a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm-.5 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zM5.5 9a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm.5 3v-2h2v2H6zM2 5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1a2 2 0 0 1 2 2v5.5a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 2 13.5V5zm13 0a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8.5A1.5 1.5 0 0 0 4.5 15h11a1.5 1.5 0 0 0 1.5-1.5V8a1 1 0 0 0-1-1v6.5a.5.5 0 0 1-1 0V5z",fill:"currentColor"})])],-1),tt=[et];function nt(p,u){return d(),h("div",Ze,tt)}const ot=w(Ye,[["render",nt]]),at={class:"flex h-screen"},st={class:"logo flex items-center justify-center py-2"},lt=["src"],ct={class:"flex justify-between items-center px-4 py-3 bg-white shadow-sm"},rt={class:"flex items-center gap-4"},it={class:"flex items-center gap-2 cursor-pointer"},dt={class:"text-sm font-medium text-gray-800"},ut={class:"p-4"},mt={__name:"Index",emits:["updatelang"],setup(p,{emit:u}){const R=u,{t:c,locale:f,fallbackLocale:O}=ae(),j=_e("fileUrl"),$=se(),E=le(),q=ce(),a=re(),v=g(!1),m=g(null),x=g([]),k=g(!1),y=g(window.innerWidth),F=t=>{t==="logout"&&q.info({title:c("info"),content:c("logout"),positiveText:c("yes"),negativeText:c("no"),onPositiveClick:()=>{localStorage.clear(),$.push({name:"Login"}),Object.keys(a.allowRole).forEach(o=>{a.allowRole[o]=!0})}})},J=A(()=>[{label:c("exit"),key:"logout"}]),K=t=>{localStorage.setItem("lang",t),a.currentData.lang=t,a.currentLang=t,f.value=t,R("updatelang",t),N.update(a.currentData.id,a.currentData)};function _(t){return()=>D(I,null,{default:()=>D(t)})}const C=A(()=>[{label:c("home"),key:"home",icon:_(Ie)},{label:c("information"),key:"information",icon:_(ke),children:[{label:c("admin"),key:"admin",icon:_(he)},{label:c("client"),key:"client",icon:_(U)},{label:c("category"),key:"category",icon:_(Oe)},{label:c("brand"),key:"brand",icon:_(Xe)},{label:c("news"),key:"news",icon:_(ot)},{label:"F.A.Q",key:"F.A.Q",icon:_(Ke)}]}]),W=()=>{N.getCurrentUser().then(t=>{a.currentData=t})},z=g(!0),M=()=>{y.value=window.innerWidth,y.value<768?z.value=!1:z.value=!0};ie(()=>{window.addEventListener("resize",M),a.currentLang=localStorage.getItem("lang")||"uz",f.value=a.currentLang,O.value=a.currentLang;const t=localStorage.getItem("accordion");if(t)try{x.value=JSON.parse(t)}catch{x.value=[t]}const o=localStorage.getItem("collopsed");o&&(v.value=JSON.parse(o.toLowerCase())),m.value=E.name,W()}),de(v,t=>{localStorage.setItem("collopsed",t)}),window.addEventListener("resize",M);const P=()=>{M(),y.value>768&&(v.value=!v.value)},Q=t=>{x.value=t,localStorage.removeItem("accordion"),localStorage.setItem("accordion",JSON.stringify(t))};return(t,o)=>{const b=r("n-menu"),T=r("n-layout-sider"),G=r("n-button"),X=r("n-select"),Y=r("n-avatar"),Z=r("n-dropdown"),ee=r("RouterView"),S=r("n-layout"),te=r("n-drawer-content"),ne=r("n-drawer");return d(),h("div",at,[s(S,{"has-sider":""},{default:i(()=>[z.value?(d(),B(T,{key:0,"collapse-mode":"width","collapsed-width":70,width:280,bordered:"",collapsed:v.value,onCollapse:o[1]||(o[1]=n=>v.value=!0),onExpand:o[2]||(o[2]=n=>v.value=!1),"show-trigger":"bar",style:{height:"100vh",background:"#115D33",color:"#fff"}},{default:i(()=>[e("div",st,[e("img",{style:{width:"200px",height:"100px","border-radius":"10px"},src:l(pe),alt:""},null,8,lt)]),s(b,{accordion:"",collapsed:v.value,value:m.value,"onUpdate:value":o[0]||(o[0]=n=>m.value=n),options:C.value,"on-update:value":n=>{m.value=n,k.value=!1,l($).push({name:n})},"onUpdate:expandedKeys":Q,"default-expanded-keys":x.value},null,8,["collapsed","value","options","on-update:value","default-expanded-keys"])]),_:1},8,["collapsed"])):L("",!0),s(S,{class:"flex-1 bg-gray-100"},{default:i(()=>[e("div",ct,[s(G,{onClick:P},{default:i(()=>[s(l(I),{size:"24"},{default:i(()=>[s(l(Be))]),_:1})]),_:1}),e("div",rt,[s(X,{class:"w-[150px]",value:l(f),"onUpdate:value":[o[3]||(o[3]=n=>ue(f)?f.value=n:null),K],options:l(a).langOption},null,8,["value","options"]),s(Z,{onSelect:F,options:J.value},{default:i(()=>{var n,V;return[e("div",it,[e("h3",dt,ve((n=l(a).currentData)==null?void 0:n.fullname),1),s(Y,{size:"small",round:"",src:l(j)+((V=l(a).currentData)==null?void 0:V.image)||""},{default:i(()=>{var H;return[(H=l(a).currentData)!=null&&H.image?L("",!0):(d(),B(l(I),{key:0,size:"24"},{default:i(()=>[s(l(U))]),_:1}))]}),_:1},8,["src"])])]}),_:1},8,["options"])])]),e("div",ut,[s(ee)])]),_:1})]),_:1}),s(ne,{show:k.value,"onUpdate:show":o[5]||(o[5]=n=>k.value=n),style:{height:"100vh",width:"80vw",background:"#115D33"},placement:"left"},{default:i(()=>[s(te,{title:"Menu",closable:""},{default:i(()=>[s(b,{value:m.value,"onUpdate:value":o[4]||(o[4]=n=>m.value=n),options:C.value,"on-update:value":n=>{m.value=n,k.value=!1,l($).push({name:n})}},null,8,["value","options","on-update:value"])]),_:1})]),_:1},8,["show"])])}}};export{mt as default};
