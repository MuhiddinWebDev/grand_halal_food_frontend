import{c as v,o as c,a as t,b as E,d as A,f as P,u as q,r as i,h as D,j as k,t as l,l as C,x as d,V as I,W as z,k as K,O,p as U,q as M}from"./index-AFM4ajz-.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as j}from"./logo-BKOx-S1n.js";const G={},R={class:"main-icons"};function T(w,n){return c(),v("div",R,n[0]||(n[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[t("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5s-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3s3-1.34 3-3s-1.34-3-3-3z",fill:"currentColor"})],-1)]))}const W=h(G,[["render",T]]),F={},H={class:"main-icons"};function J(w,n){return c(),v("div",H,n[0]||(n[0]=[E('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"><path d="M63.998 86.004l21.998-21.998L448 426.01l-21.998 21.998z" fill="currentColor"></path><path d="M259.34 192.09l60.57 60.57a64.07 64.07 0 0 0-60.57-60.57z" fill="currentColor"></path><path d="M252.66 319.91l-60.57-60.57a64.07 64.07 0 0 0 60.57 60.57z" fill="currentColor"></path><path d="M256 352a96 96 0 0 1-92.6-121.34l-69.07-69.08C66.12 187.42 39.24 221.14 16 256c26.42 44 62.56 89.24 100.2 115.18C159.38 400.92 206.33 416 255.76 416A233.47 233.47 0 0 0 335 402.2l-53.61-53.6A95.84 95.84 0 0 1 256 352z" fill="currentColor"></path><path d="M256 160a96 96 0 0 1 92.6 121.34L419.26 352c29.15-26.25 56.07-61.56 76.74-96c-26.38-43.43-62.9-88.56-101.18-114.82C351.1 111.2 304.31 96 255.76 96a222.92 222.92 0 0 0-78.21 14.29l53.11 53.11A95.84 95.84 0 0 1 256 160z" fill="currentColor"></path></svg>',1)]))}const Q=h(F,[["render",J]]),X={class:"form_body"},Y={class:"lang-top"},Z={class:"contact-wrapper"},ee={class:"flex items-center justify-center shadow-2xs"},te=["src"],oe={class:"login-cta"},ne={class:"form-row"},se=["placeholder"],le={class:"form-row"},re={class:"input-icon"},ae={class:"form-row"},ie={__name:"Index",setup(w){const{t:n,locale:g}=A(),r=P(),L=q(),b=U(),u=i(null),_=i(!1),s=i({phone:"+998907788769",password:"987654321!"}),S=i(0),$=i(null),f=o=>{L.warning({title:n("warning"),content:o,duration:2e3})},m=async()=>{let o=s.value.phone.replace(/[^\d]/g,"");if(o.length<12&&s.value.password.length<3)f(n("rule_full"));else if(s.value.password.length<3)f(n("rule_pass"));else if(o.length<12)f(n("rule_num"));else if(o.length>=12&&s.value.password.length>=4)try{s.value.phone=s.value.phone.replace(/[^\d]/g,""),O.post("users/login",s.value).then(e=>{localStorage.setItem("token",e.token),localStorage.setItem("role",e.role),r.currentData=e,r.currentLang=e.lang||"uz";let p="/home";e.role=="Inspector"&&(p="/sklad-table"),b.push({path:p})}).catch(e=>{S.value=0})}catch{}},B=o=>{o.key=="Enter"&&m()},N=o=>{let e=s.value.phone.replace(/[^\d]/g,"");o.key=="Enter"&&e.length>=12&&u.value.focus()},x=o=>{_.value=o,o?u.value.type="text":u.value.type="password"},y=o=>{localStorage.setItem("lang",o),g.value=o,r.currentLang=o};return D(()=>{y(r.currentLang)}),(o,e)=>{const p=C("n-select"),V=C("n-icon");return c(),v("div",X,[t("div",Y,[k(p,{style:{width:"150px"},value:l(r).currentLang,"onUpdate:value":[e[0]||(e[0]=a=>l(r).currentLang=a),y],options:l(r).langOption},null,8,["value","options"])]),t("div",Z,[t("div",ee,[t("img",{class:"logo",style:{width:"200px"},src:l(j),alt:"logo"},null,8,te)]),t("header",oe,[t("h2",null,d(l(n)("login")),1)]),t("form",null,[t("div",ne,[I(t("input",{onKeydown:N,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.phone=a),type:"text",required:"",maxlength:"19",ref_key:"phoneInput",ref:$,placeholder:l(g)=="uz"?"+998":"+82"},null,40,se),[[z,s.value.phone]]),t("span",null,d(l(n)("phone")),1)]),t("div",le,[I(t("input",{ref_key:"passwordInput",ref:u,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.password=a),onKeydown:B,type:"password",required:""},null,544),[[z,s.value.password]]),t("span",null,d(l(n)("password")),1),t("div",re,[k(V,{size:"22"},{default:K(()=>[_.value?(c(),M(l(Q),{key:1,onClick:e[4]||(e[4]=a=>x(!1))})):(c(),M(l(W),{key:0,onClick:e[3]||(e[3]=a=>x(!0))}))]),_:1})])]),e[5]||(e[5]=t("div",{class:"form-row"},null,-1)),t("div",ae,[t("button",{type:"button",onClick:m},d(l(n)("enter")),1)])])]),e[6]||(e[6]=t("div",{class:"circle one"},null,-1)),e[7]||(e[7]=t("div",{class:"circle two"},null,-1)),e[8]||(e[8]=t("div",{class:"circle three"},null,-1)),e[9]||(e[9]=t("div",{class:"circle four"},null,-1))])}}},de=h(ie,[["__scopeId","data-v-450129cf"]]);export{de as default};
