import{c as w,a as o,o as y,d as Y,e as j,H as J,f as T,r as i,g as E,n as g,m as l,I as G,J as $,L as h,N as p,M as F,w as K,C as L,h as q,j as n,x,t as s,k as r,l as _,p as O,G as Q}from"./index-BkkmJgWg.js";import{u as W,S as X}from"./index-Cgcq1nI7.js";import{R as Z}from"./refresh-DtjYAjoi.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as v}from"./clients.service-DIyU-Tav.js";import{u as te}from"./NumberFormat-Dorb8or7.js";const ae={},se={class:"main-icons"};function ne(b,t){return y(),w("div",se,t[0]||(t[0]=[o("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[o("path",{d:"M21 4H7V2H5v20h2v-8h14l-2-5l2-5zm-6 5c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2s2 .9 2 2z",fill:"currentColor"})],-1)]))}const le=ee(ae,[["render",ne]]),oe={class:"p-2 space-y-2 bg-white rounded-xl shadow-md overflow-x-auto"},ie={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},re={class:"text-xl font-bold"},ce={class:"flex flex-col sm:flex-row gap-2 sm:items-center"},xe={__name:"Index",setup(b){const{t,locale:ue}=Y(),{insert:k,shift:S,r:z}=W(),C=g("dayJS");O(),j(),J(),T();const I=g("fileUrl"),f=i([]),m=i(!1);i(!1);const c=i({text:""}),N=i({create:!1,update:!1,update_id:null}),u=e=>{m.value=!0,v.all(c.value).then(a=>{f.value=a,m.value=!1})},R=E(()=>[{title:"â„–",key:"id",align:"center",width:50,render:(e,a)=>a+1},{title:t("fullname"),key:"fullname",render(e){return l("div",{class:"flex items-center"},[e.image?l(G,{src:I+e.image,height:35,width:50,style:{borderRadius:"35px",marginRight:"8px"},lazy:!0,previewDisabled:!0}):l($,{size:"small",style:{marginRight:"8px"}}),l("span",{class:"font-semibold"},e.fullname)])}},{title:t("phone"),key:"phone",render:e=>te(e.phone_number)},{title:t("login")+" / "+t("datetime"),key:"login",render:e=>C(e.datetime).format("YYYY-MM-DD HH:mm:ss")},{title:t("send"),key:"status",width:80,render(e){return[l(h,{size:"small",type:"success",onClick:a=>{v.sendNotification(e.id).then(()=>{})},style:{marginRight:"8px"}},{icon:()=>l(p,{component:le,size:22})})]}}]),d=F({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,15,20],onChange:e=>d.page=e,onUpdatePageSize:e=>{d.pageSize=e,d.page=1}}),D=e=>({style:"cursor: pointer;"}),M=e=>e.status?"":"bg-red-50",B=()=>u(),H=()=>{c.value.text="",u()},A=()=>N.value.create=!0;return K(k,e=>e&&A()),L(()=>{S.value&&z.value&&u()}),q(()=>u()),(e,a)=>{const P=_("n-input"),U=_("n-data-table");return y(),w("div",oe,[o("div",ie,[o("h2",re,x(s(t)("client")),1),o("div",ce,[n(P,{value:c.value.text,"onUpdate:value":a[0]||(a[0]=V=>c.value.text=V),onInput:B,placeholder:s(t)("search"),clearable:"",class:"w-full sm:w-80"},{prefix:r(()=>[n(s(p),null,{default:r(()=>[n(s(X))]),_:1})]),_:1},8,["value","placeholder"]),n(s(h),{type:"warning",onClick:H},{icon:r(()=>[n(s(p),null,{default:r(()=>[n(s(Z))]),_:1})]),default:r(()=>[Q(" "+x(s(t)("update"))+" ",1),a[1]||(a[1]=o("span",{class:"ml-1 text-xs"},"Shift+R",-1))]),_:1,__:[1]})])]),n(U,{"row-props":D,pagination:d,loading:m.value,columns:R.value,data:f.value,bordered:!0,"single-line":!1,size:"small","scroll-x":1300,"max-height":"calc(100vh - 315px)","row-class-name":M},null,8,["pagination","loading","columns","data"])])}}};export{xe as default};
