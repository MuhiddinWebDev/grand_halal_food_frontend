import{O as r,d as Y,e as j,H as E,f as J,r as i,g as O,n as _,m as g,I as T,J as V,M as $,w as G,C as F,h as K,c as L,a as f,j as l,x as v,t as n,k as c,l as w,L as q,p as Q,o as W,N as b,G as X}from"./index-Dtb2zBzF.js";import{u as Z,S as ee}from"./index-47z7JLpT.js";import{R as te}from"./refresh-DSvM5u6N.js";import{u as ae}from"./NumberFormat-Dorb8or7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const u="/client";class se{all(e){let a=e!=null&&e.text?"?text="+e.text:"";return r.get(u+"/all"+a).then(o=>o)}create(e){return r.post(u+"/",e).then(a=>a)}update(e,a){return r.patch(u+`/${e}`,a).then(o=>o)}getOne(e){return r.get(u+`/${e}`).then(a=>a)}delete(e){return r.delete(u+`/${e}`).then(a=>a)}}const ne=new se,le={class:"p-2 space-y-2"},oe={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},re={class:"text-xl font-bold"},ie={class:"flex flex-col sm:flex-row gap-2 sm:items-center"},ge={__name:"Index",setup(y){const{t:e,locale:a}=Y(),{insert:o,shift:S,r:k}=Z(),I=_("dayJS");Q(),j(),E(),J();const N=_("fileUrl"),x=i([]),h=i(!1);i(!1);const d=i({text:""}),z=i({create:!1,update:!1,update_id:null}),p=t=>{h.value=!0,ne.all(d.value).then(s=>{x.value=s,h.value=!1})},D=O(()=>[{title:"â„–",key:"id",align:"center",width:50,render:(t,s)=>s+1},{title:e("fullname"),key:"fullname",render(t){return g("div",{class:"flex items-center"},[t.image?g(T,{src:N+t.image,height:35,width:50,style:{borderRadius:"35px",marginRight:"8px"},lazy:!0,previewDisabled:!0}):g(V,{size:"small",style:{marginRight:"8px"}}),g("span",{class:"font-semibold"},t.fullname)])}},{title:e("phone"),key:"phone",render:t=>ae(t.phone_number)},{title:e("login")+" / "+e("datetime"),key:"login",render:t=>I(t.datetime).format("YYYY-MM-DD HH:mm:ss")}]),m=$({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,15,20],onChange:t=>m.page=t,onUpdatePageSize:t=>{m.pageSize=t,m.page=1}}),C=t=>({style:"cursor: pointer;"}),M=t=>t.status?"":"bg-red-50",R=()=>p(),B=()=>{d.value.text="",p()},P=()=>z.value.create=!0;return G(o,t=>t&&P()),F(()=>{S.value&&k.value&&p()}),K(()=>p()),(t,s)=>{const A=w("n-input"),H=w("n-data-table");return W(),L("div",le,[f("div",oe,[f("h2",re,v(n(e)("client")),1),f("div",ie,[l(A,{value:d.value.text,"onUpdate:value":s[0]||(s[0]=U=>d.value.text=U),onInput:R,placeholder:n(e)("search"),clearable:"",class:"w-full sm:w-80"},{prefix:c(()=>[l(n(b),null,{default:c(()=>[l(n(ee))]),_:1})]),_:1},8,["value","placeholder"]),l(n(q),{type:"warning",onClick:B},{icon:c(()=>[l(n(b),null,{default:c(()=>[l(n(te))]),_:1})]),default:c(()=>[X(" "+v(n(e)("update"))+" ",1),s[1]||(s[1]=f("span",{class:"ml-1 text-xs"},"Shift+R",-1))]),_:1,__:[1]})])]),l(H,{"row-props":C,pagination:m,loading:h.value,columns:D.value,data:x.value,bordered:!0,"single-line":!1,size:"small","scroll-x":1300,"max-height":"calc(100vh - 315px)","row-class-name":M},null,8,["pagination","loading","columns","data"])])}}};export{ge as default};
